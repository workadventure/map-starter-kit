<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <meta name="title" content="WorkAdventure Starter Kit">

    <link href="public/styles.css" rel="stylesheet">

    <title>WorkAdventure test map</title>
    <link rel="icon" href="/images/favicon.svg" type="image/svg+xml">
    <script type="module">
        document.addEventListener("DOMContentLoaded", (event) => {
            // Load index.js to have access to getMapsList
            import('/public/assets/index.js').then(() => {
                window.createBackgroundImageFade();
            });
        });
    </script>
</head>

<body>
<div class="content">
    <header>
        <div class="logo">
            <a href="https://workadventu.re/" target="_blank" title="Workadventure">
                <img src="public/images/logo.svg" alt="Workadventure logo" height="36" />
            </a>
        </div>
        <div style="flex-grow: 1;"></div>
        <div class="socials">
            <a href="https://discord.gg/G6Xh9ZM9aR" target="_blank" title="discord">
                <img src="/public/images/brand-discord.svg" alt="discord">
            </a>
            <a href="https://github.com/thecodingmachine/workadventure" target="_blank" title="github">
                <img src="/public/images/brand-github.svg" alt="github">
            </a>
            <a href="https://www.youtube.com/channel/UCXJ9igV-kb9gw1ftR33y5tA" target="_blank" title="youtube">
                <img src="/public/images/brand-youtube.svg" alt="youtube">
            </a>
            <a href="https://twitter.com/Workadventure_" target="_blank" title="twitter">
                <img src="/public/images/brand-x.svg" alt="X">
            </a>
            <a href="https://www.linkedin.com/company/workadventu-re" target="_blank" title="linkedin">
                <img src="/public/images/brand-linkedin.svg" alt="linkedin">
            </a>
        </div>
        <div class="btn-header-wrapper">
            <a href="#" class="btn btn-light">Talk to the community</a>
            <a href="#" class="btn">Documentation</a>
        </div>
    </header>
    <main>
        <section class="form-center">
            <h1>
                How do you want to publish your map?
            </h1>
            <div class="sub-heading">
                Choose the workflow that best fits your team and your way of working.
            </div>
            <div class="radio-wrapper">
                <label class="radio-card">
                    <input name="advanced" class="radio" type="radio">
                    <div class="card-details">
                        <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.125 19.5L16.25 27.625L32.5 11.375" stroke="#4156F6" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>

                        <h2>
                            Advanced publishing
                        </h2>
                        <div>
                            <strong>Designed for teams using Git and file versioning.</strong>
                            Full control over your files and collaboration workflow.
                        </div>
                    </div>
                </label>
                <label class="radio-card">
                    <input name="advanced" class="radio" type="radio" checked>
                    <div class="card-details">
                        <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.125 19.5L16.25 27.625L32.5 11.375" stroke="#4156F6" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>

                        <h2>
                            Recommended publishing
                        </h2>
                        <div>
                            <strong>The easiest and fastest way to publish your map.</strong>
                            No technical setup required. Ideal for getting started quickly.
                        </div>
                    </div>
                </label>
            </div>

        </section>
    </main>
    <div class="button-wrapper">
        <div>
            <a href="/" class="btn btn-ghost">
                Previous
            </a>
        </div>
        <div style="flex-grow: 1;">
        </div>
        <div>
            <a href="step2-hosting" class="btn btn-secondary">
                Start configuration
            </a>
        </div>
    </div>
</div>
<div class="bg"></div>
<script>
    // Get radio buttons by finding the label containing "Advanced publishing"
    const radioButtons = document.querySelectorAll('input[name="advanced"]');
    const startConfigButton = document.querySelector('a[href="step2-hosting"]');
    const docUrl = "https://docs.workadventu.re/map-building/tiled-editor/publish/wa-hosted";

    // Find Advanced publishing radio button by checking parent label text
    let advancedPublishingRadio = null;
    radioButtons.forEach(radio => {
        const label = radio.closest('label');
        if (label && label.textContent.includes('Advanced publishing')) {
            advancedPublishingRadio = radio;
        }
    });

    // Function to update button href based on selection
    function updateButtonHref() {
        // Check if Advanced publishing is selected
        if (advancedPublishingRadio && advancedPublishingRadio.checked) {
            startConfigButton.href = docUrl;
            startConfigButton.target = "_blank";
        } else {
            startConfigButton.href = "step2-hosting";
            startConfigButton.removeAttribute("target");
        }
    }

    // Add event listeners to all radio buttons
    radioButtons.forEach(radio => {
        radio.addEventListener('change', updateButtonHref);
    });

    // Initialize on page load
    updateButtonHref();
</script>
</body>

</html>